// ==============================================================
// RTL generated by Vivado(TM) HLS - High-Level Synthesis from C, C++ and SystemC
// Version: 2017.4
// Copyright (C) 1986-2017 Xilinx, Inc. All Rights Reserved.
// 
// ===========================================================

`timescale 1 ns / 1 ps 

(* CORE_GENERATION_INFO="correlator,hls_ip_2017_4,{HLS_INPUT_TYPE=cxx,HLS_INPUT_FLOAT=0,HLS_INPUT_FIXED=1,HLS_INPUT_PART=xc7k160tfbg484-1,HLS_INPUT_CLOCK=5.000000,HLS_INPUT_ARCH=pipeline,HLS_SYN_CLOCK=2.850000,HLS_SYN_LAT=0,HLS_SYN_TPT=1,HLS_SYN_MEM=0,HLS_SYN_DSP=0,HLS_SYN_FF=4,HLS_SYN_LUT=1410}" *)

module correlator (
        ap_clk,
        ap_rst_n,
        i_data_TDATA,
        i_data_TVALID,
        i_data_TREADY,
        i_data_TLAST,
        o_data_TDATA,
        o_data_TVALID,
        o_data_TREADY,
        o_data_TLAST,
        start_V
);

parameter    ap_ST_fsm_state1 = 1'd1;

input   ap_clk;
input   ap_rst_n;
input  [31:0] i_data_TDATA;
input   i_data_TVALID;
output   i_data_TREADY;
input  [0:0] i_data_TLAST;
input  [31:0] o_data_TDATA;
input   o_data_TVALID;
output   o_data_TREADY;
input  [0:0] o_data_TLAST;
input  [0:0] start_V;

reg i_data_TREADY;

reg    ap_rst_n_inv;
wire    o_data_V_last_V_0_vld_in;
wire    o_data_V_last_V_0_ack_out;
reg   [1:0] o_data_V_last_V_0_state;
reg   [0:0] currentState;
reg    i_data_TDATA_blk_n;
(* fsm_encoding = "none" *) reg   [0:0] ap_CS_fsm;
wire    ap_CS_fsm_state1;
wire   [0:0] currentState_load_load_fu_76_p1;
wire   [0:0] tmp_nbreadreq_fu_58_p4;
reg    ap_predicate_op23_read_state1;
reg    ap_block_state1;
wire   [0:0] start_V_read_read_fu_52_p2;
wire   [31:0] empty_3_fu_86_p258;
reg   [0:0] ap_NS_fsm;

// power-on initialization
initial begin
#0 o_data_V_last_V_0_state = 2'd0;
#0 currentState = 1'd0;
#0 ap_CS_fsm = 1'd1;
end

correlator_mux_25bkb #(
    .ID( 1 ),
    .NUM_STAGE( 1 ),
    .din0_WIDTH( 32 ),
    .din1_WIDTH( 32 ),
    .din2_WIDTH( 32 ),
    .din3_WIDTH( 32 ),
    .din4_WIDTH( 32 ),
    .din5_WIDTH( 32 ),
    .din6_WIDTH( 32 ),
    .din7_WIDTH( 32 ),
    .din8_WIDTH( 32 ),
    .din9_WIDTH( 32 ),
    .din10_WIDTH( 32 ),
    .din11_WIDTH( 32 ),
    .din12_WIDTH( 32 ),
    .din13_WIDTH( 32 ),
    .din14_WIDTH( 32 ),
    .din15_WIDTH( 32 ),
    .din16_WIDTH( 32 ),
    .din17_WIDTH( 32 ),
    .din18_WIDTH( 32 ),
    .din19_WIDTH( 32 ),
    .din20_WIDTH( 32 ),
    .din21_WIDTH( 32 ),
    .din22_WIDTH( 32 ),
    .din23_WIDTH( 32 ),
    .din24_WIDTH( 32 ),
    .din25_WIDTH( 32 ),
    .din26_WIDTH( 32 ),
    .din27_WIDTH( 32 ),
    .din28_WIDTH( 32 ),
    .din29_WIDTH( 32 ),
    .din30_WIDTH( 32 ),
    .din31_WIDTH( 32 ),
    .din32_WIDTH( 32 ),
    .din33_WIDTH( 32 ),
    .din34_WIDTH( 32 ),
    .din35_WIDTH( 32 ),
    .din36_WIDTH( 32 ),
    .din37_WIDTH( 32 ),
    .din38_WIDTH( 32 ),
    .din39_WIDTH( 32 ),
    .din40_WIDTH( 32 ),
    .din41_WIDTH( 32 ),
    .din42_WIDTH( 32 ),
    .din43_WIDTH( 32 ),
    .din44_WIDTH( 32 ),
    .din45_WIDTH( 32 ),
    .din46_WIDTH( 32 ),
    .din47_WIDTH( 32 ),
    .din48_WIDTH( 32 ),
    .din49_WIDTH( 32 ),
    .din50_WIDTH( 32 ),
    .din51_WIDTH( 32 ),
    .din52_WIDTH( 32 ),
    .din53_WIDTH( 32 ),
    .din54_WIDTH( 32 ),
    .din55_WIDTH( 32 ),
    .din56_WIDTH( 32 ),
    .din57_WIDTH( 32 ),
    .din58_WIDTH( 32 ),
    .din59_WIDTH( 32 ),
    .din60_WIDTH( 32 ),
    .din61_WIDTH( 32 ),
    .din62_WIDTH( 32 ),
    .din63_WIDTH( 32 ),
    .din64_WIDTH( 32 ),
    .din65_WIDTH( 32 ),
    .din66_WIDTH( 32 ),
    .din67_WIDTH( 32 ),
    .din68_WIDTH( 32 ),
    .din69_WIDTH( 32 ),
    .din70_WIDTH( 32 ),
    .din71_WIDTH( 32 ),
    .din72_WIDTH( 32 ),
    .din73_WIDTH( 32 ),
    .din74_WIDTH( 32 ),
    .din75_WIDTH( 32 ),
    .din76_WIDTH( 32 ),
    .din77_WIDTH( 32 ),
    .din78_WIDTH( 32 ),
    .din79_WIDTH( 32 ),
    .din80_WIDTH( 32 ),
    .din81_WIDTH( 32 ),
    .din82_WIDTH( 32 ),
    .din83_WIDTH( 32 ),
    .din84_WIDTH( 32 ),
    .din85_WIDTH( 32 ),
    .din86_WIDTH( 32 ),
    .din87_WIDTH( 32 ),
    .din88_WIDTH( 32 ),
    .din89_WIDTH( 32 ),
    .din90_WIDTH( 32 ),
    .din91_WIDTH( 32 ),
    .din92_WIDTH( 32 ),
    .din93_WIDTH( 32 ),
    .din94_WIDTH( 32 ),
    .din95_WIDTH( 32 ),
    .din96_WIDTH( 32 ),
    .din97_WIDTH( 32 ),
    .din98_WIDTH( 32 ),
    .din99_WIDTH( 32 ),
    .din100_WIDTH( 32 ),
    .din101_WIDTH( 32 ),
    .din102_WIDTH( 32 ),
    .din103_WIDTH( 32 ),
    .din104_WIDTH( 32 ),
    .din105_WIDTH( 32 ),
    .din106_WIDTH( 32 ),
    .din107_WIDTH( 32 ),
    .din108_WIDTH( 32 ),
    .din109_WIDTH( 32 ),
    .din110_WIDTH( 32 ),
    .din111_WIDTH( 32 ),
    .din112_WIDTH( 32 ),
    .din113_WIDTH( 32 ),
    .din114_WIDTH( 32 ),
    .din115_WIDTH( 32 ),
    .din116_WIDTH( 32 ),
    .din117_WIDTH( 32 ),
    .din118_WIDTH( 32 ),
    .din119_WIDTH( 32 ),
    .din120_WIDTH( 32 ),
    .din121_WIDTH( 32 ),
    .din122_WIDTH( 32 ),
    .din123_WIDTH( 32 ),
    .din124_WIDTH( 32 ),
    .din125_WIDTH( 32 ),
    .din126_WIDTH( 32 ),
    .din127_WIDTH( 32 ),
    .din128_WIDTH( 32 ),
    .din129_WIDTH( 32 ),
    .din130_WIDTH( 32 ),
    .din131_WIDTH( 32 ),
    .din132_WIDTH( 32 ),
    .din133_WIDTH( 32 ),
    .din134_WIDTH( 32 ),
    .din135_WIDTH( 32 ),
    .din136_WIDTH( 32 ),
    .din137_WIDTH( 32 ),
    .din138_WIDTH( 32 ),
    .din139_WIDTH( 32 ),
    .din140_WIDTH( 32 ),
    .din141_WIDTH( 32 ),
    .din142_WIDTH( 32 ),
    .din143_WIDTH( 32 ),
    .din144_WIDTH( 32 ),
    .din145_WIDTH( 32 ),
    .din146_WIDTH( 32 ),
    .din147_WIDTH( 32 ),
    .din148_WIDTH( 32 ),
    .din149_WIDTH( 32 ),
    .din150_WIDTH( 32 ),
    .din151_WIDTH( 32 ),
    .din152_WIDTH( 32 ),
    .din153_WIDTH( 32 ),
    .din154_WIDTH( 32 ),
    .din155_WIDTH( 32 ),
    .din156_WIDTH( 32 ),
    .din157_WIDTH( 32 ),
    .din158_WIDTH( 32 ),
    .din159_WIDTH( 32 ),
    .din160_WIDTH( 32 ),
    .din161_WIDTH( 32 ),
    .din162_WIDTH( 32 ),
    .din163_WIDTH( 32 ),
    .din164_WIDTH( 32 ),
    .din165_WIDTH( 32 ),
    .din166_WIDTH( 32 ),
    .din167_WIDTH( 32 ),
    .din168_WIDTH( 32 ),
    .din169_WIDTH( 32 ),
    .din170_WIDTH( 32 ),
    .din171_WIDTH( 32 ),
    .din172_WIDTH( 32 ),
    .din173_WIDTH( 32 ),
    .din174_WIDTH( 32 ),
    .din175_WIDTH( 32 ),
    .din176_WIDTH( 32 ),
    .din177_WIDTH( 32 ),
    .din178_WIDTH( 32 ),
    .din179_WIDTH( 32 ),
    .din180_WIDTH( 32 ),
    .din181_WIDTH( 32 ),
    .din182_WIDTH( 32 ),
    .din183_WIDTH( 32 ),
    .din184_WIDTH( 32 ),
    .din185_WIDTH( 32 ),
    .din186_WIDTH( 32 ),
    .din187_WIDTH( 32 ),
    .din188_WIDTH( 32 ),
    .din189_WIDTH( 32 ),
    .din190_WIDTH( 32 ),
    .din191_WIDTH( 32 ),
    .din192_WIDTH( 32 ),
    .din193_WIDTH( 32 ),
    .din194_WIDTH( 32 ),
    .din195_WIDTH( 32 ),
    .din196_WIDTH( 32 ),
    .din197_WIDTH( 32 ),
    .din198_WIDTH( 32 ),
    .din199_WIDTH( 32 ),
    .din200_WIDTH( 32 ),
    .din201_WIDTH( 32 ),
    .din202_WIDTH( 32 ),
    .din203_WIDTH( 32 ),
    .din204_WIDTH( 32 ),
    .din205_WIDTH( 32 ),
    .din206_WIDTH( 32 ),
    .din207_WIDTH( 32 ),
    .din208_WIDTH( 32 ),
    .din209_WIDTH( 32 ),
    .din210_WIDTH( 32 ),
    .din211_WIDTH( 32 ),
    .din212_WIDTH( 32 ),
    .din213_WIDTH( 32 ),
    .din214_WIDTH( 32 ),
    .din215_WIDTH( 32 ),
    .din216_WIDTH( 32 ),
    .din217_WIDTH( 32 ),
    .din218_WIDTH( 32 ),
    .din219_WIDTH( 32 ),
    .din220_WIDTH( 32 ),
    .din221_WIDTH( 32 ),
    .din222_WIDTH( 32 ),
    .din223_WIDTH( 32 ),
    .din224_WIDTH( 32 ),
    .din225_WIDTH( 32 ),
    .din226_WIDTH( 32 ),
    .din227_WIDTH( 32 ),
    .din228_WIDTH( 32 ),
    .din229_WIDTH( 32 ),
    .din230_WIDTH( 32 ),
    .din231_WIDTH( 32 ),
    .din232_WIDTH( 32 ),
    .din233_WIDTH( 32 ),
    .din234_WIDTH( 32 ),
    .din235_WIDTH( 32 ),
    .din236_WIDTH( 32 ),
    .din237_WIDTH( 32 ),
    .din238_WIDTH( 32 ),
    .din239_WIDTH( 32 ),
    .din240_WIDTH( 32 ),
    .din241_WIDTH( 32 ),
    .din242_WIDTH( 32 ),
    .din243_WIDTH( 32 ),
    .din244_WIDTH( 32 ),
    .din245_WIDTH( 32 ),
    .din246_WIDTH( 32 ),
    .din247_WIDTH( 32 ),
    .din248_WIDTH( 32 ),
    .din249_WIDTH( 32 ),
    .din250_WIDTH( 32 ),
    .din251_WIDTH( 32 ),
    .din252_WIDTH( 32 ),
    .din253_WIDTH( 32 ),
    .din254_WIDTH( 32 ),
    .din255_WIDTH( 32 ),
    .din256_WIDTH( 8 ),
    .dout_WIDTH( 32 ))
correlator_mux_25bkb_U1(
    .din0(32'd0),
    .din1(32'd0),
    .din2(32'd0),
    .din3(32'd0),
    .din4(32'd0),
    .din5(32'd0),
    .din6(32'd0),
    .din7(32'd0),
    .din8(32'd0),
    .din9(32'd0),
    .din10(32'd0),
    .din11(32'd0),
    .din12(32'd0),
    .din13(32'd0),
    .din14(32'd0),
    .din15(32'd0),
    .din16(32'd0),
    .din17(32'd0),
    .din18(32'd0),
    .din19(32'd0),
    .din20(32'd0),
    .din21(32'd0),
    .din22(32'd0),
    .din23(32'd0),
    .din24(32'd0),
    .din25(32'd0),
    .din26(32'd0),
    .din27(32'd0),
    .din28(32'd0),
    .din29(32'd0),
    .din30(32'd0),
    .din31(32'd0),
    .din32(32'd0),
    .din33(32'd0),
    .din34(32'd0),
    .din35(32'd0),
    .din36(32'd0),
    .din37(32'd0),
    .din38(32'd0),
    .din39(32'd0),
    .din40(32'd0),
    .din41(32'd0),
    .din42(32'd0),
    .din43(32'd0),
    .din44(32'd0),
    .din45(32'd0),
    .din46(32'd0),
    .din47(32'd0),
    .din48(32'd0),
    .din49(32'd0),
    .din50(32'd0),
    .din51(32'd0),
    .din52(32'd0),
    .din53(32'd0),
    .din54(32'd0),
    .din55(32'd0),
    .din56(32'd0),
    .din57(32'd0),
    .din58(32'd0),
    .din59(32'd0),
    .din60(32'd0),
    .din61(32'd0),
    .din62(32'd0),
    .din63(32'd0),
    .din64(32'd0),
    .din65(32'd0),
    .din66(32'd0),
    .din67(32'd0),
    .din68(32'd0),
    .din69(32'd0),
    .din70(32'd0),
    .din71(32'd0),
    .din72(32'd0),
    .din73(32'd0),
    .din74(32'd0),
    .din75(32'd0),
    .din76(32'd0),
    .din77(32'd0),
    .din78(32'd0),
    .din79(32'd0),
    .din80(32'd0),
    .din81(32'd0),
    .din82(32'd0),
    .din83(32'd0),
    .din84(32'd0),
    .din85(32'd0),
    .din86(32'd0),
    .din87(32'd0),
    .din88(32'd0),
    .din89(32'd0),
    .din90(32'd0),
    .din91(32'd0),
    .din92(32'd0),
    .din93(32'd0),
    .din94(32'd0),
    .din95(32'd0),
    .din96(32'd0),
    .din97(32'd0),
    .din98(32'd0),
    .din99(32'd0),
    .din100(32'd0),
    .din101(32'd0),
    .din102(32'd0),
    .din103(32'd0),
    .din104(32'd0),
    .din105(32'd0),
    .din106(32'd0),
    .din107(32'd0),
    .din108(32'd0),
    .din109(32'd0),
    .din110(32'd0),
    .din111(32'd0),
    .din112(32'd0),
    .din113(32'd0),
    .din114(32'd0),
    .din115(32'd0),
    .din116(32'd0),
    .din117(32'd0),
    .din118(32'd0),
    .din119(32'd0),
    .din120(32'd0),
    .din121(32'd0),
    .din122(32'd0),
    .din123(32'd0),
    .din124(32'd0),
    .din125(32'd0),
    .din126(32'd0),
    .din127(32'd0),
    .din128(32'd0),
    .din129(32'd0),
    .din130(32'd0),
    .din131(32'd0),
    .din132(32'd0),
    .din133(32'd0),
    .din134(32'd0),
    .din135(32'd0),
    .din136(32'd0),
    .din137(32'd0),
    .din138(32'd0),
    .din139(32'd0),
    .din140(32'd0),
    .din141(32'd0),
    .din142(32'd0),
    .din143(32'd0),
    .din144(32'd0),
    .din145(32'd0),
    .din146(32'd0),
    .din147(32'd0),
    .din148(32'd0),
    .din149(32'd0),
    .din150(32'd0),
    .din151(32'd0),
    .din152(32'd0),
    .din153(32'd0),
    .din154(32'd0),
    .din155(32'd0),
    .din156(32'd0),
    .din157(32'd0),
    .din158(32'd0),
    .din159(32'd0),
    .din160(32'd0),
    .din161(32'd0),
    .din162(32'd0),
    .din163(32'd0),
    .din164(32'd0),
    .din165(32'd0),
    .din166(32'd0),
    .din167(32'd0),
    .din168(32'd0),
    .din169(32'd0),
    .din170(32'd0),
    .din171(32'd0),
    .din172(32'd0),
    .din173(32'd0),
    .din174(32'd0),
    .din175(32'd0),
    .din176(32'd0),
    .din177(32'd0),
    .din178(32'd0),
    .din179(32'd0),
    .din180(32'd0),
    .din181(32'd0),
    .din182(32'd0),
    .din183(32'd0),
    .din184(32'd0),
    .din185(32'd0),
    .din186(32'd0),
    .din187(32'd0),
    .din188(32'd0),
    .din189(32'd0),
    .din190(32'd0),
    .din191(32'd0),
    .din192(32'd0),
    .din193(32'd0),
    .din194(32'd0),
    .din195(32'd0),
    .din196(32'd0),
    .din197(32'd0),
    .din198(32'd0),
    .din199(32'd0),
    .din200(32'd0),
    .din201(32'd0),
    .din202(32'd0),
    .din203(32'd0),
    .din204(32'd0),
    .din205(32'd0),
    .din206(32'd0),
    .din207(32'd0),
    .din208(32'd0),
    .din209(32'd0),
    .din210(32'd0),
    .din211(32'd0),
    .din212(32'd0),
    .din213(32'd0),
    .din214(32'd0),
    .din215(32'd0),
    .din216(32'd0),
    .din217(32'd0),
    .din218(32'd0),
    .din219(32'd0),
    .din220(32'd0),
    .din221(32'd0),
    .din222(32'd0),
    .din223(32'd0),
    .din224(32'd0),
    .din225(32'd0),
    .din226(32'd0),
    .din227(32'd0),
    .din228(32'd0),
    .din229(32'd0),
    .din230(32'd0),
    .din231(32'd0),
    .din232(32'd0),
    .din233(32'd0),
    .din234(32'd0),
    .din235(32'd0),
    .din236(32'd0),
    .din237(32'd0),
    .din238(32'd0),
    .din239(32'd0),
    .din240(32'd0),
    .din241(32'd0),
    .din242(32'd0),
    .din243(32'd0),
    .din244(32'd0),
    .din245(32'd0),
    .din246(32'd0),
    .din247(32'd0),
    .din248(32'd0),
    .din249(32'd0),
    .din250(32'd0),
    .din251(32'd0),
    .din252(32'd0),
    .din253(32'd0),
    .din254(32'd0),
    .din255(32'd0),
    .din256(8'd0),
    .dout(empty_3_fu_86_p258)
);

always @ (posedge ap_clk) begin
    if (ap_rst_n_inv == 1'b1) begin
        ap_CS_fsm <= ap_ST_fsm_state1;
    end else begin
        ap_CS_fsm <= ap_NS_fsm;
    end
end

always @ (posedge ap_clk) begin
    if (ap_rst_n_inv == 1'b1) begin
        currentState <= 1'd0;
    end else begin
        if ((~((ap_predicate_op23_read_state1 == 1'b1) & (i_data_TVALID == 1'b0)) & (start_V_read_read_fu_52_p2 == 1'd1) & (currentState_load_load_fu_76_p1 == 1'd0) & (1'b1 == ap_CS_fsm_state1))) begin
            currentState <= 1'd1;
        end
    end
end

always @ (posedge ap_clk) begin
    if (ap_rst_n_inv == 1'b1) begin
        o_data_V_last_V_0_state <= 2'd0;
    end else begin
        if ((((o_data_V_last_V_0_state == 2'd2) & (o_data_V_last_V_0_vld_in == 1'b0)) | ((o_data_V_last_V_0_state == 2'd3) & (o_data_V_last_V_0_vld_in == 1'b0) & (o_data_V_last_V_0_ack_out == 1'b1)))) begin
            o_data_V_last_V_0_state <= 2'd2;
        end else if ((((o_data_V_last_V_0_state == 2'd3) & (o_data_V_last_V_0_ack_out == 1'b0) & (o_data_V_last_V_0_vld_in == 1'b1)) | ((o_data_V_last_V_0_state == 2'd1) & (o_data_V_last_V_0_ack_out == 1'b0)))) begin
            o_data_V_last_V_0_state <= 2'd1;
        end else if ((((o_data_V_last_V_0_state == 2'd2) & (o_data_V_last_V_0_vld_in == 1'b1)) | (~((o_data_V_last_V_0_vld_in == 1'b0) & (o_data_V_last_V_0_ack_out == 1'b1)) & ~((o_data_V_last_V_0_ack_out == 1'b0) & (o_data_V_last_V_0_vld_in == 1'b1)) & (o_data_V_last_V_0_state == 2'd3)) | ((o_data_V_last_V_0_state == 2'd1) & (o_data_V_last_V_0_ack_out == 1'b1)))) begin
            o_data_V_last_V_0_state <= 2'd3;
        end else begin
            o_data_V_last_V_0_state <= 2'd2;
        end
    end
end

always @ (*) begin
    if (((tmp_nbreadreq_fu_58_p4 == 1'd1) & (currentState == 1'd1) & (1'b1 == ap_CS_fsm_state1))) begin
        i_data_TDATA_blk_n = i_data_TVALID;
    end else begin
        i_data_TDATA_blk_n = 1'b1;
    end
end

always @ (*) begin
    if ((~((ap_predicate_op23_read_state1 == 1'b1) & (i_data_TVALID == 1'b0)) & (ap_predicate_op23_read_state1 == 1'b1) & (1'b1 == ap_CS_fsm_state1))) begin
        i_data_TREADY = 1'b1;
    end else begin
        i_data_TREADY = 1'b0;
    end
end

always @ (*) begin
    case (ap_CS_fsm)
        ap_ST_fsm_state1 : begin
            ap_NS_fsm = ap_ST_fsm_state1;
        end
        default : begin
            ap_NS_fsm = 'bx;
        end
    endcase
end

assign ap_CS_fsm_state1 = ap_CS_fsm[32'd0];

always @ (*) begin
    ap_block_state1 = ((ap_predicate_op23_read_state1 == 1'b1) & (i_data_TVALID == 1'b0));
end

always @ (*) begin
    ap_predicate_op23_read_state1 = ((tmp_nbreadreq_fu_58_p4 == 1'd1) & (currentState == 1'd1));
end

always @ (*) begin
    ap_rst_n_inv = ~ap_rst_n;
end

assign currentState_load_load_fu_76_p1 = currentState;

assign o_data_TREADY = o_data_V_last_V_0_state[1'd1];

assign o_data_V_last_V_0_ack_out = 1'b0;

assign o_data_V_last_V_0_vld_in = o_data_TVALID;

assign start_V_read_read_fu_52_p2 = start_V;

assign tmp_nbreadreq_fu_58_p4 = i_data_TVALID;

endmodule //correlator
